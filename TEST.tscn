[gd_scene load_steps=11 format=3 uid="uid://dxudo5r81oc8k"]

[ext_resource type="Texture2D" uid="uid://oiugwbv3qtc1" path="res://dereks room.PNG" id="1_fy5ud"]
[ext_resource type="PackedScene" uid="uid://bjbi36jcc8t7i" path="res://Derek.tscn" id="2_r7qem"]
[ext_resource type="PackedScene" uid="uid://cq0b0057gaf03" path="res://scene_transition.tscn" id="3_si16d"]
[ext_resource type="PackedScene" uid="uid://cg7c78kxt6wy3" path="res://Hallway.tscn" id="4_sfssh"]
[ext_resource type="Script" uid="uid://d2x8a328pj72r" path="res://dialogue_box.gd" id="6_yqe22"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6kx34"]
size = Vector2(31, 445)

[sub_resource type="GDScript" id="GDScript_fy5ud"]
script/source = "extends Area2D

# You can change this text in the Godot Inspector for every sign!
@export_multiline var message: String = \"Welcome to the Quiet Road. It's a nice day.\"

func interact():
	# Instead of just printing to the console, we \"broadcast\" the message
	# to the GameEvents radio tower.
	GameEvents.request_dialogue.emit(message)
	print(\"Sign sent message to UI\") # Still prints so you know it worked
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_apqp6"]
size = Vector2(76, 79)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yk2eu"]
size = Vector2(648, 41)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_abqjs"]
size = Vector2(145, 42)

[node name="Test" type="Node2D"]

[node name="DereksRoom" type="Sprite2D" parent="."]
texture_filter = 3
position = Vector2(256, 211)
texture = ExtResource("1_fy5ud")

[node name="StaticBody2D" type="StaticBody2D" parent="DereksRoom"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="DereksRoom/StaticBody2D"]
position = Vector2(312.5, -4.5)
shape = SubResource("RectangleShape2D_6kx34")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="DereksRoom/StaticBody2D"]
position = Vector2(-321, -4)
shape = SubResource("RectangleShape2D_6kx34")

[node name="TestSign" type="Area2D" parent="."]
position = Vector2(480, 225)
collision_layer = 2
script = SubResource("GDScript_fy5ud")
message = "My backpack, "

[node name="CollisionShape2D" type="CollisionShape2D" parent="TestSign"]
position = Vector2(-128, 34)
shape = SubResource("RectangleShape2D_apqp6")

[node name="ColorRect" type="ColorRect" parent="TestSign"]
visible = false
offset_left = -171.0
offset_top = -55.0
offset_right = -94.0
offset_bottom = 28.0

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(10, 359)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2(243, 57.5)
shape = SubResource("RectangleShape2D_yk2eu")

[node name="ColorRect" type="ColorRect" parent="Floor"]
offset_left = -313.0
offset_top = 329.0
offset_right = 851.0
offset_bottom = 392.0
metadata/_edit_use_anchors_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Floor"]
position = Vector2(15.5, 31)
shape = SubResource("RectangleShape2D_abqjs")

[node name="Derek" parent="." instance=ExtResource("2_r7qem")]
position = Vector2(81, 277)

[node name="Camera2D" type="Camera2D" parent="Derek"]

[node name="UI" type="CanvasLayer" parent="."]

[node name="DialogueBox" type="Panel" parent="UI"]
visible = false
offset_left = 56.0
offset_top = 400.0
offset_right = 726.0
offset_bottom = 541.0
script = ExtResource("6_yqe22")
metadata/_edit_use_anchors_ = true

[node name="TextDisplay" type="RichTextLabel" parent="UI/DialogueBox"]
layout_mode = 0
offset_left = 11.0
offset_top = 13.0
offset_right = 654.0
offset_bottom = 140.0

[node name="SpawnPoint" type="Marker2D" parent="."]
position = Vector2(177, 287)

[node name="SceneTransition" parent="." instance=ExtResource("3_si16d")]
visible = false
position = Vector2(414, 91)
scale = Vector2(0.8, 0.8)
collision_layer = 2
target_scene = ExtResource("4_sfssh")
